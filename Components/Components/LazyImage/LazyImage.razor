@namespace CrahunComponents

@if (LoadingPlaceHolder != null)
{
    <div style="@(isImageLoaded ? "display:none; float: left" : "");">
        @LoadingPlaceHolder
    </div>
}
else
{
    <div class="square col-xs-12" style="@(isImageLoaded ? "display:none" : ""); width: @ImagePlaceHolderWidth; height: @(ImagePlaceHolderHeight)px" />
}

    <img src="@ImageUrl" 
         class="@(isImageLoaded ? AdditionalClasses: "")" alt="@Alternative"
         style="transition: opacity .7s ease-in; @(isImageLoaded ? "opacity: 1": "opacity: 0;"); @(isImageLoaded ? "": "width: 0%"); @AdditionalStyles" />


@code {
    [Parameter]
    public string ImageUrl { get; set; }

    [Parameter]
    public string Alternative { get; set; }

    [Parameter]
    public string AdditionalStyles { get; set; }

    [Parameter]
    public string AdditionalClasses { get; set; }

    [Parameter]
    public string ImagePlaceHolderWidth { get; set; } = "100%";
    
    [Parameter]
    public int ImagePlaceHolderHeight { get; set; } = 100;

    [Parameter]
    public RenderFragment LoadingPlaceHolder { get; set; }

    bool isImageLoaded;
}
